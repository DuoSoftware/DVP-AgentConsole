<div class="user-p-right-tab-052017" ng-controller="appIntegrationCtrl" ng-init="initform(formschemaBuilder)" builder="formschemaBuilder">
    <div class="col-lg-12 col-sm-12 col-md-12 col-xs-12">
        <div ng-repeat="app in apps">

            <div class="d-widget-w" style="min-height:100%">


                <div class="header-052017">
                    {{app.name}}
                    <li ng-show="selected.value != $index || !showApp"
                        ng-click="loadData(app._id, false); selected.value = $index; showApp = true"
                        style="float: right;">
                        <a class="close-link"><i
                                class="ti-angle-down"></i></a>
                    </li>
                    <li ng-show="selected.value == $index && showApp"
                        ng-click="selected.value = $index; showApp = false" style="float: right;"><a
                            class="collapse-link"><i
                            class="ti-angle-up"></i></a>
                    </li>
                </div>

                <div class="widget-main-header-wrapper" ng-show="selected.value == $index && showApp"
                     style="margin-left:15px; margin-bottom: 20px">

                    <label>{{app.description}}</label>

                    <div>
                        Notifications:
                    </div>
                    <section class="t-i-list-wrapper" ng-show="selected.value == $index && showApp">
                        <div id="btnRefresh"
                             type="button"
                             title="Refresh data"
                             class="btn btn-sm btn-refresh btn-template-primary btn-circle"
                             ng-click="loadData(app._id, true)"
                             style="float: right; -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);-moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3)">
                            <i class="fa fa-refresh"></i>
                        </div>
                        <table class="table table-responsive" >
                            <thead style="display: block; width:auto; table-layout: fixed;">
                            <tr>
                                <th>
                                    <!--<div class="checkbox margin-0 i-ticket-check">-->
                                    <!--<label>-->

                                    <!--&lt;!&ndash;<input type='checkbox'&ndash;&gt;-->
                                    <!--&lt;!&ndash;name='selectall'&ndash;&gt;-->
                                    <!--&lt;!&ndash;ng-model="value1.status"&ndash;&gt;-->
                                    <!--&lt;!&ndash;ng-change="selectAll()"> {{value1}}&ndash;&gt;-->

                                    <!--</label>-->
                                    <!--</div>-->
                                </th>
                                <th ng-repeat="(header, value) in currentApp.data[0]" ng-if="header != '_isSelected'">
                                    <div class="t-list-h">{{header}}</div>
                                </th>
                            </tr>
                            </thead>
                            <tbody class="t-i-tbody" style="display: block; max-height:180px; overflow-y:scroll; width: auto">

                            <tr ng-repeat="row in currentApp.data | limitTo:limit">

                                <td>

                                    <input type='checkbox'
                                           name="check"
                                           class="appDataCheck"
                                           ng-model="row._isSelected"
                                           ng-change="selectOnlyOne($index)"/>

                                </td>
                                <td ng-repeat="(h, cell) in row" ng-if="h != '_isSelected'">

                                    {{cell}}
                                </td>
                            </tr>

                            </tbody>
                        </table>

                        <div class="btn-group" style="width: 100%; margin-bottom: 15px">

                            <button ng-repeat="action in currentApp.actions" class="btn btn-primary"
                                    href="javascript:void(0);"
                                    ng-style="{'width': (100/actions.length)+'%', 'margin-left':'20px'};"
                                    ng-click="executeAction($index)"> {{action.name}}
                            </button>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>